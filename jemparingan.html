<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jemparingan â€” Scorekeeper</title>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    :root{
      --bg:#fbf7f1;
      --panel:#fffaf5;
      --accent:#10284C;
      --accent-dark:#6b492d;
      --accent-light:#fff8f2;
      --muted:#6b5b50;
      --danger:#DC2525;
      --success:#28a745;
      --shadow-light:rgba(0,0,0,0.05);
      --shadow-med:rgba(139,94,60,0.1);
      font-family: "poppins", sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      width: 100%;
      height: 100vh;
      background:linear-gradient(180deg,var(--bg),#fffefb);
      color:#222;
      font-size:15px;
      display: flex;
      flex-direction: column;
    }
    .wrap{width: 100%; height: 100%; display: flex; flex-direction: column;}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-direction: column;}
    h1{margin:0;color:var(--accent)}
    .grid{display:grid;grid-template-rows:1fr 40px; flex: 1;}
    .card{
      background:var(--panel);
      padding:14px;
    }
    .players{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .player{
      padding:12px;border-radius:5px;border:1px solid #000000;
      background:#F2CE92;position:relative;cursor:pointer;
      transition:background .1s ease,transform .1s ease;
    }
    .player:not(.selected):hover{background:#fefcf9;transform:translateY(-2px);box-shadow:0 4px 10px var(--shadow-med)}
    .player.selected{background:#e2a130;outline:3px solid rgba(139,94,60,0.1);cursor:default;}
    .name{font-weight:700;margin-bottom:6px;color:var(--accent);font-size:18px}
    .meta{color:var(--muted);font-size:13px;margin-bottom:6px}
    button{
      padding:8px 12px;border-radius:8px;border:1px solid rgba(139,94,60,0.1);
      cursor:pointer;font-weight:600;color:var(--muted);
      transition:all .15s ease;
    }
    button:hover{background:var(--panel);border-color:var(--accent);color:var(--accent)}
    input[type="text"]{
      padding:8px 12px;border-radius:8px;border:1px solid rgba(139,94,60,0.1);flex:1;
    }
    input[type="text"]:focus{
      outline:none;border-color:var(--accent);
    }
    .controls{display:flex;gap:10px}
    #endBtn{background:var(--danger);color:#fff;border-color:var(--danger);font-weight:700;
      font-size: 12px;
      height: 30px;
      display: flex;
        align-items: center;
        justify-content: center;}
    #endBtn:hover{background:#c9302c;border-color:#c9302c;color:#fff;}
    #endBtn.done{
      background:var(--success);
      border-color:var(--success);
      color:#fff;
      cursor:default;
      pointer-events:none;
    }
    #exportBtn,#resetBtn,#backToChoose{
      color:var(--accent);
      height: 30px;
      display: flex;
        align-items: center;
        justify-content: center;

    }
    #exportBtn:hover,#resetBtn:hover,#backToChoose:hover{
      background:var(--accent);color:#fff;
    }
    #prevEnd,#nextEnd,#addFromInput, #scanBtn {
      background:var(--accent-light);
      border-color:rgba(139,94,60,0.2);
      color:var(--accent);
      font-weight:700;
    }
    #prevEnd:hover,#nextEnd:hover,#addFromInput:hover, #scanBtn:hover {
      background:var(--accent);color:#fff;
    }
    /* --- Gaya khusus untuk tombol scan emoji --- */
    #scanBtn {
        font-size: 20px; /* Atur ukuran emoji */
        line-height: 1; /* Pastikan emoji tetap di tengah vertikal */
        padding: 8px 10px; /* Sesuaikan padding agar terlihat bagus */
    }


    #addFromInput{padding:8px 12px;}
    .pad{display:flex;gap:6px;margin-top:10px;flex-wrap:wrap}
    .pad button{
      width:42px;height:42px;padding:0;font-size:16px;font-weight:600;
      font-family: poppins, sans-serif;
      flex-grow: 1;
      color:#FFFFFF;border:1px solid rgba(139,94,60,0.2);
      background-color: var(--accent);
    }
    .pad button:hover{background:var(--accent);border-color:var(--accent);color:#fff;}
    aside .leader{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(139,94,60,0.06)}
    .muted{color:var(--muted);font-size:13px}
    .top-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
    .small{font-size:12px;color: #000}
    .meta-seri{font-size:13px;font-weight:700;color:var(--muted);margin-top:10px}
    .current-arrows{display:flex;gap:6px;margin:6px 0 8px 0;}
    .arrow-box{
      flex:1;height:36px;border:1px solid rgba(139,94,60,0.2);
      border-radius:6px;display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:15px;background:#fff;
    }
    .arrow-box.filled{background:var(--accent-light);color:var(--accent);border-color:rgba(139,94,60,0.1);cursor:pointer;transition:background .1s ease,border-color .1s ease;}
    .arrow-box.filled:hover{background:#ffeeda;border-color:rgba(139,94,60,0.4);}
    .remove-btn{position:absolute;top:6px;right:8px;background:none;border:none;padding:0 4px;font-size:20px;font-weight:700;color:#050C1A;cursor:pointer;line-height:1;}
    .remove-btn:hover{color:var(--danger);}
    .title{font-size:25px; margin: 14px 14px 0 14px; max-width: 70%; word-wrap: break-word; overflow-wrap: break-word; line-height: 1.3; word-break: break-word;}
    .controls button{
      background-color: transparent;
      border: 0;
      height:40px;
      font-family: poppins, sans-serif;
      font-size: 12px;
    }
    .config{
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 14px;
      font-size: 14px;
      font-weight: 600;
      color: var(--accent);
      gap: 14px;
      height: 50px;
    }
    .leaderboard-table{width:100%;border-collapse:collapse;font-size:14px;border-radius:10px;overflow:hidden}
    .leaderboard-table thead th{background:var(--accent);color:#fff;padding:8px;text-align:left;font-weight:700}
    .leaderboard-table tbody tr{background-color:#F2CE92}
    .leaderboard-table td{padding:8px;border-bottom:1px solid rgba(0,0,0,0.06)}
    .config > div{
      width: 50%;
      padding: 0 10px;
      display: flex;
      flex-direction: row;
      align-items: center;
      border: 1px solid #00000080;
      height: 100%;
      border-radius: 10px;
    }
    .tab-btn{
      flex:1;
      background-color:#F2EADA;
      color:#1E1E1E;
      border:1px solid #1E1E1E;
    }
    .tab-btn.active{
      background-color:#10284C;
      color:#fff;
      border-color:#10284C;
    }
    main{display:none}
    main.active{display:block}
    aside{display:none}
    aside.active{display:block}
    
    @media(max-width:900px){.grid{grid-template-columns:1fr}.players{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header style="display: flex; position: relative;">
      <img src="/assets/bg.svg" style="max-width: 100%;" alt="">
      <div style="display: flex; flex-direction: row; width: 100%; justify-content: space-between; max-width: 100%; min-width: 0;">
        <div style="min-width: 0; flex: 1; display: flex; flex-direction: column; gap: 10px;">
          <h1 class="title" id="session-title">My Jemparingan</h1>  
          <div class="small" style="margin-left: 14px" id="modeLabel">Memuat mode...</div>
        </div>
        <button style="margin-right: 14px; background: none; border: none; padding: 22px 0 0 0; display: flex; align-items: start;" id="menu">
          <img src="/assets/menu.svg" style="max-width: 20px;" alt="">
        </button>
      </div>
      <button id="backToChoose" style="position: absolute; top: 60px; left: 3%; background-color: var(--accent); color: #fff; display: flex; gap: 6px; align-items: center;">
        <img src="/assets/arrow-left-light.svg" alt="">
        <p style="font-size: 12px;">Kembali</p>
      </button>

      <div id="controlsMenu" style="text-align: right; position: absolute; top: 210px; right: 3%; background-color: #F3E6D2; border: 1px solid #000; border-radius: 4px; padding: 8px; width: 35%; display: none; z-index: 10;">
        <div class="controls" style="display: flex; flex-direction: column;">
          <button id="exportBtn"><p style="width: 100%; text-align: left;">Export Skor CSV</p></button>
          <button id="resetBtn"><p style="width: 100%; text-align: left;">Reset Sesi</p></button>
          <button id="endBtn"><p style="width: 100%; text-align: left;">Akhiri Sesi</p></button>
        </div>
      </div>
    </header>

    <div class="config">
      <div style="background-color: #FFF3DB; display: flex; gap: 10px;">
        <span style="font-weight: bold; font-size: 18px;" id="numComp">
          0
        </span>
        <p style="margin: 0;">Peserta Terdata</p>
      </div>
      <div style="background-color: #F9DDAE;">
        <button id="scanBtn" title="Pindai Barcode" style="background-color: transparent; width: 100%; padding: 0; border: 0; display: flex; justify-content: space-between;">
          <p style="font-size: 14px; font-weight: 600; font-family: poppins, sans-serif;">Scan Peserta</p>
          <img src="/assets/arrow-right.svg" alt="">
        </button> 
      </div>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px; padding: 0 14px; margin-top: 14px;">
        <div><strong style="color: var(--accent); font-size: 14px;">Nama Peserta</strong></div>
    </div>

    <div style="margin-top:0px; padding: 0 14px;">
      <div style="display:flex; gap:8px; height: 37px; position: relative;">
        <label for="newName" style="position: absolute; left: 8px; top: 8px; z-index: 1;">
          <img src="/assets/person.svg" style="width: 20px; height: 20px;" alt="">
        </label>
        <input id="newName" name="newName" type="text" placeholder="hako" style="border: 1px solid #C4D3DF; padding-left: 40px; flex: 1;" />
        <button id="addFromInput" style="background-color: var(--accent); color: #fff; flex-shrink: 0;">+</button>
      </div>
    </div>

    <div style="width: 100%; display: flex; gap: 10px; font-family: poppins, sans-serif; padding: 0 14px; margin-top: 16px;">
      <button class="tab-btn active" id="btnInputSkor" style="max-width: 100px; flex: 1;">
        Input Skor
      </button>
      <button class="tab-btn" id="btnRanking" style="max-width: 100px; flex: 1;">
        Peringkat
      </button>
    </div>

    <div class="grid">
      <main class="active">
        <div class="card">
          
          <div style="border-radius: 10px; background-color: #FFF3DB; border: 1px solid #00000044;">
            <div style="border-top-right-radius: 10px; border-top-left-radius: 10px; background-color: var(--accent); height: 40px; color: #fff; font-weight: 600; padding: 10px;">Daftar Atlet</div>
            <div class="players" style="padding: 10px;" id="players"></div>
          </div>
        </div>
      </main>

      <aside>

        <div class="card">
          <div id="leaderboard"></div>

          <div style="margin-top:12px">
            <div class="muted" style="display: none;">Seri maksimal per ronde: <span id="maxEnds">20</span></div>
          </div>
        </div>
      </aside>
    </div>
      <div style="display:flex;gap:12px;margin-top:10px; padding: 14px; background-color: #FCE8CA; height: 100px; border-top-left-radius: 10px; border-top-right-radius: 10px; border: 1px solid #0000007e; position: sticky; bottom: 0;">
        <div style="display: flex; height: 20%; width: 100%; height: 60%; justify-content: space-around; gap: 10px; align-items: center;">
          <button id="prevEnd" style="width: 30%; background-color: #FFFFFF; color: #1E1E1E; height: 100%; border: 1px solid #000000; display: flex; align-items: center; justify-content: space-evenly;">
            <img src="/assets/arrow-left-dark.svg" alt="">
            <p>Kembali</p>
          </button>
              <div style="text-align:center; color:var(--accent);white-space:nowrap;">
                  Seri: <span id="currentEnd">1</span> / <span id="maxEndsLabel">20</span>
              </div>
            <button id="nextEnd" style="width: 30%; background-color: var(--accent); color: #fff; height: 100%; display: flex; align-items: center; justify-content: space-evenly;">
              <p>Lanjut</p>
              <img src="/assets/arrow-right-light.svg" alt="">
            </button>
        </div>
      </div> 
  </div> 
  <script src="script-jemparingan.js"></script>
</body>
</html>